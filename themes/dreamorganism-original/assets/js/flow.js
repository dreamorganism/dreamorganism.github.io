(()=>{var ct=(t,e=o=>o!==void 0?": "+o:"")=>class extends Error{constructor(o){super(t(o)+e(o))}};var Yn=ct(()=>"illegal argument(s)"),Dt=t=>{throw new Yn(t)};var Wn=ct(()=>"illegal arity"),lt=t=>{throw new Wn(t)};var Qn=ct(()=>"unsupported operation"),ft=t=>{throw new Qn(t)};function Ee(...t){let[e,o,r,n,i,s,c,l,f,p]=t;switch(t.length){case 0:lt(0);case 1:return e;case 2:return(...a)=>e(o(...a));case 3:return(...a)=>e(o(r(...a)));case 4:return(...a)=>e(o(r(n(...a))));case 5:return(...a)=>e(o(r(n(i(...a)))));case 6:return(...a)=>e(o(r(n(i(s(...a))))));case 7:return(...a)=>e(o(r(n(i(s(c(...a)))))));case 8:return(...a)=>e(o(r(n(i(s(c(l(...a))))))));case 9:return(...a)=>e(o(r(n(i(s(c(l(f(...a)))))))));case 10:default:let m=(...a)=>e(o(r(n(i(s(c(l(f(p(...a))))))))));return t.length===10?m:Ee(m,...t.slice(10))}}function uo(t,...e){let[o,r,n,i,s,c,l,f]=e;switch(e.length){case 1:return(...p)=>t(o,...p);case 2:return(...p)=>t(o,r,...p);case 3:return(...p)=>t(o,r,n,...p);case 4:return(...p)=>t(o,r,n,i,...p);case 5:return(...p)=>t(o,r,n,i,s,...p);case 6:return(...p)=>t(o,r,n,i,s,c,...p);case 7:return(...p)=>t(o,r,n,i,s,c,l,...p);case 8:return(...p)=>t(o,r,n,i,s,c,l,f,...p);default:Dt()}}var ho=t=>typeof t=="function";var _=(t,e)=>t!=null&&typeof t[e]=="function";var z=Array.isArray;var Lt=t=>t!=null&&typeof t!="function"&&t.length!==void 0;var k=t=>typeof t=="string";var Q=t=>t!=null&&typeof t[Symbol.iterator]=="function";var pt=t=>t!=null&&typeof t!="string"&&typeof t[Symbol.iterator]=="function";var R=t=>typeof t=="number";var xo=Object.getPrototypeOf,I=t=>{let e;return t!=null&&typeof t=="object"&&((e=xo(t))===null||xo(e)===null)};var q=-Infinity,G=Infinity,ws=Object.freeze([q,q]),ks=Object.freeze([G,G]),Rs=Object.freeze([1,1]),Pt=Object.freeze([0,0]),Cs=Object.freeze([1,0]),Is=Object.freeze([0,1]),vs=Object.freeze([q,q,q]),Ds=Object.freeze([G,G,G]),Ls=Object.freeze([1,1,1]),go=Object.freeze([0,0,0]),Ps=Object.freeze([1,0,0]),Fs=Object.freeze([0,1,0]),zs=Object.freeze([0,0,1]),qs=Object.freeze([q,q,q,q]),Gs=Object.freeze([G,G,G,G]),Us=Object.freeze([1,1,1,1]),js=Object.freeze([0,0,0,0]),Vs=Object.freeze([1,0,0,0]),Bs=Object.freeze([0,1,0,0]),Hs=Object.freeze([0,0,1,0]),Xs=Object.freeze([0,0,0,1]);var Jn=t=>t!=null&&typeof t.deref=="function",at=t=>Jn(t)?t.deref():t;var Ft;(function(t){t[t.FINE=0]="FINE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.SEVERE=4]="SEVERE",t[t.NONE=5]="NONE"})(Ft||(Ft={}));var J=Symbol(),y=()=>{};var zt=(()=>{try{return process.env.UMBRELLA_ASSERTS==="1"}catch(t){}return!1})()?(t,e="assertion failed")=>{if(typeof t=="function"&&!t()||!t)throw new Error(typeof e=="function"?e():e)}:y;var _o=Object.freeze({level:Ft.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});var K=t=>_(t,"xform")?t.xform():t;var mt=class{constructor(e){this.value=e}deref(){return this.value}},bo=t=>new mt(t),U=t=>t instanceof mt,yo=t=>t instanceof mt?t:new mt(t),ut=t=>t instanceof mt?t.deref():t;var Kn=t=>t.length===2?[void 0,t[1]]:t.length===3?[t[1],t[2]]:lt(t.length);function Ao(...t){let e=t[0],o=e[0],r=e[1],n=e[2];t=Kn(t);let i=t[0]==null?o():t[0],s=t[1];return ut(r(_(s,"$reduce")?s.$reduce(n,i):Lt(s)?ti(n,i,s):ei(n,i,s)))}var ti=(t,e,o)=>{for(let r=0,n=o.length;r<n;r++)if(e=t(e,o[r]),U(e)){e=e.deref();break}return e},ei=(t,e,o)=>{for(let r of o)if(e=t(e,r),U(e)){e=e.deref();break}return e},qt=(t,e)=>[t,o=>o,e];function So(t){return t?[...t]:qt(()=>[],(e,o)=>(e.push(o),e))}function*Eo(t,e){let o=K(t)(So()),r=o[1],n=o[2];for(let i of e){let s=n([],i);if(U(s)){yield*ut(r(s.deref()));return}s.length&&(yield*s)}yield*ut(r([]))}function*Oe(t,e){let o=K(t)([y,y,(r,n)=>n])[2];for(let r of e){let n=o(J,r);if(U(n)){n=ut(n.deref()),n!==J&&(yield n);return}n!==J&&(yield n)}}var Oo=(t,e,o=Oe)=>{let r=e.length-1;return Q(e[r])?e.length>1?o(t.apply(null,e.slice(0,r)),e[r]):o(t(),e[0]):void 0};var dt=(t,e)=>[t[0],t[1],e];function v(t,e){return Q(e)?Oe(v(t),e):o=>{let r=o[2];return dt(o,(n,i)=>r(n,t(i)))}}function Te(...t){return oi(Te,Ao,t)}var oi=(t,e,o)=>{let r,n;switch(o.length){case 4:n=o[3],r=o[2];break;case 3:n=o[2];break;case 2:return v(i=>t(o[0],o[1],i));default:lt(o.length)}return e(K(o[0])(o[1]),r,n)};function To(t,e){t=t||"";let o=!0;return e?[...e].join(t):qt(()=>"",(r,n)=>(r=o?r+n:r+t+n,o=!1,r))}function ht(t,e,o){return new No(t,e,o)}var No=class{constructor(e,o,r){e===void 0?(e=0,o=Infinity):o===void 0&&(o=e,e=0),r=r===void 0?e<o?1:-1:r,this.from=e,this.to=o,this.step=r}*[Symbol.iterator](){let{from:e,to:o,step:r}=this;if(r>0)for(;e<o;)yield e,e+=r;else if(r<0)for(;e>o;)yield e,e+=r}$reduce(e,o){let r=this.step;if(r>0)for(let n=this.from,i=this.to;n<i&&!U(o);n+=r)o=e(o,n);else for(let n=this.from,i=this.to;n>i&&!U(o);n+=r)o=e(o,n);return o}};function*Mo(...t){let e=t.map(o=>o[Symbol.iterator]());for(;;){let o=[];for(let r of e){let n=r.next();if(n.done)return;o.push(n.value)}yield o}}var H=Math.PI,x=H*2,ri=H/2,Ic=H/3,vc=H/4,Dc=H/6,Lc=1/H,ni=1/x,Pc=1/ri,Fc=H/180,zc=180/H,qc=(1+Math.sqrt(5))/2,ii=Math.SQRT2,si=Math.sqrt(3),Gc=ii/2,Uc=si/2,jc=1/3,Vc=2/3,Bc=1/6,X=1e-6;var D=(t,e=1)=>[Math.cos(t)*e,Math.sin(t)*e];var ci=Math.abs;var Ne=(t,e,o=X)=>ci(t-e)<=o;var g=t=>t<0?0:t>1?1:t;var $o=t=>t<0?t+1:t>1?t-1:t;var At=(t,e,o)=>e+(o-e)*g(t);var Gt=t=>t-Math.floor(t);var wo=Object.getPrototypeOf({}),Ut="function",ko="string",L=(t,e)=>{let o;if(t===e)return!0;if(t!=null){if(typeof t.equiv===Ut)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===Ut)return e.equiv(t)}else return t==e;return typeof t===ko||typeof e===ko?!1:(o=Object.getPrototypeOf(t),(o==null||o===wo)&&(o=Object.getPrototypeOf(e),o==null||o===wo)?ke(t,e):typeof t!==Ut&&t.length!==void 0&&typeof e!==Ut&&e.length!==void 0?Me(t,e):t instanceof Set&&e instanceof Set?$e(t,e):t instanceof Map&&e instanceof Map?we(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},Me=(t,e,o=L)=>{let r=t.length;if(r===e.length)for(;--r>=0&&o(t[r],e[r]););return r<0},$e=(t,e,o=L)=>t.size===e.size&&o([...t.keys()].sort(),[...e.keys()].sort()),we=(t,e,o=L)=>t.size===e.size&&o([...t].sort(),[...e].sort()),ke=(t,e,o=L)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(!e.hasOwnProperty(r)||!o(t[r],e[r]))return!1;return!0};var Ro=t=>t[t.length-1];var Co=1/4294967295,Re=class{float(e=1){return this.int()*Co*e}norm(e=1){return(this.int()*Co-.5)*2*e}minmax(e,o){return this.float()*(o-e)+e}};var Ce=Math.random,Io=class extends Re{int(){return Ce()*4294967296>>>0}float(e=1){return Ce()*e}norm(e=1){return(Ce()-.5)*2*e}},Ie=new Io;var vo="0123456789abcdef";var jt=t=>vo[t>>>4&15]+vo[t&15];var Do=t=>jt(t>>>8)+jt(t&255);var Lo=t=>jt(t>>>16)+Do(t);function ve(...t){return Oo(ve,t)||(e=>{let o=e[2],r=t[0],n=t[1]||0;return dt(e,(i,s)=>o(i,r(n++,s)))})}function Po(...t){return t=t.map(K),Ee.apply(null,t)}function De(t,e){return Q(e)?Eo(De(t),e):o=>{let r=o[2],n=t;return dt(o,(i,s)=>--n>0?r(i,s):n===0?yo(r(i,s)):bo(i))}}var Fo=t=>([e,o,r])=>`${e}=${o}${t}${r};`,zo=t=>([e,o])=>`${e}=${o}${t}n;`,qo=(t,e)=>([o,r,n,i])=>`${o}=(${r}${t}${n})${e}${i};`;var Go=(t,e)=>([o,r,n])=>`${o}=(${r}${t}n)${e}${n};`;var Vt=([t,e])=>`${t}*${e}`,Uo=([t,e])=>`s+=${t}*${e};`,jo=([t,e])=>`${t}=${e};`,Vo=([t])=>`${t}=n;`;var Bo=([t,e,o])=>`${t}=${e}+(${o}-${e})*n;`;var M=(t=0)=>{let e=new Array(5),o,r=(...n)=>{let i=e[n[t].length]||o;return i?i(...n):ft(`no impl for vec size ${n[t].length}`)};return r.add=(n,i)=>e[n]=i,r.default=n=>o=n,r.impl=n=>e[n]||o,r};var Le="o,a,b",Ho="o,a,b,c",li="o,a,n",Xo="o,a,n,b",Zo="o,a,b,n",Yo="io=0,ia=0,so=1,sa=1";var Wo="!o&&(o=[]);",fi=t=>e=>e>1?`${t}[i${t}+${e}*s${t}]`:e==1?`${t}[i${t}+s${t}]`:`${t}[i${t}]`,pi=t=>v(fi(t),ht()),ai=t=>v(e=>`${t}[${e}]`,ht()),Qo=(t,e,o,r="a",n="",i="",s="",c=!1)=>[i,Te(Po(De(t),ve((l,f)=>e(f,l))),To(n),Mo.apply(null,o.split(",").map(c?pi:ai))),s,r!==""?`return ${r};`:""],mi=(t,e,o="a",r,n,i=!1)=>[r,"for(let i=a.length;--i>=0;) {",t(e.split(",").map(i?s=>`${s}[i${s}+i*s${s}]`:s=>`${s}[i]`)),"}",n,o!==null?`return ${o};`:""],ui=(t,e)=>`!${t} && (${t}=${e.split(",")[1]});`,j=(t,e,o,r=o,n="a",i,s,c,l=!1)=>new Function(o,Qo(t,e,r,n,i,s,c,l).join("")),Jo=(t,e,o,r,n,i=n,s="a",c="",l,f,p=!1)=>new Function(r,`return (${n})=>{${Qo(t,o,i,s,c,l,f,p).join("")}}`)(...e),tt=(t,e,o=e,r="a",n,i,s=!1)=>new Function(e,mi(t,o,r,n,i,s).join(""));var $=(t,e=Le,o,r="o",n=1,i)=>{o=o||e,i=i??ui(r,e);let s=M(n),c=l=>s.add(l,j(l,t,e,o,r,"",i));return s.default(tt(t,e,o,r,i)),[s,c(2),c(3),c(4)]};var xt=t=>$(Fo(t)),Ko=t=>$(zo(t),li);var Pe=t=>St.add(t,Jo(t,[Ne,X],([e,o])=>`eq(${e},${o},eps)`,"eq,_eps","a,b,eps=_eps","a,b","","&&","return a.length === b.length && ",";")),St=M();St.default((t,e,o=X)=>_(t,"eqDelta")?t.eqDelta(e,o):_(e,"eqDelta")?e.eqDelta(t,o):di(t,e,t.length,o));var vl=Pe(2),Dl=Pe(3),Ll=Pe(4),di=(t,e,o,r=X,n=0,i=0,s=1,c=1)=>{for(;o>0;o--,n+=s,i+=c)if(!Ne(t[n],e[i],r))return!1;return!0};var tr=t=>(t&255)<<16|t>>16&255|t&4278255360;var[et,Bt,er,Gl]=$(Go("*","+"),Xo,Le);var[Et,Vl,Bl,Hl]=Ko("*");var or=(t,e,o,r,n,i,s)=>(!t&&(t=e),et(t,r,s,et(t,o,i,Et(t,e,n)))),rr=(t,e,o,r,n,i,s,c,l)=>(!t&&(t=e),et(t,n,l,et(t,r,c,et(t,o,s,Et(t,e,i)))));var[Jl,Ht,nr,Kl]=xt("+");var ir=(t,e,o,r)=>(!t&&(t=[]),t[0]=e,t[1]=o,t[2]=r,t),w=(t,e,o,r,n)=>(!t&&(t=[]),t[0]=e,t[1]=o,t[2]=r,t[3]=n,t);var Fe=t=>Xt.add(t,j(t,Vt,"a,b",void 0,"","+","return ",";")),Xt=M();Xt.default(tt(Uo,"a,b",void 0,"s","let s=0;"));var sf=Fe(2),cf=Fe(3),lf=Fe(4);var ze=t=>gt.add(t,j(t,([e])=>`${e}*${e}`,"a","a","","+","return ",";")),gt=M();gt.default(tt(([t])=>`sum+=${t}*${t};`,"a",void 0,"sum","let sum=0;"));var mf=ze(2),uf=ze(3),df=ze(4);var sr=t=>Math.sqrt(gt(t));var[S,cr,yf,Af]=$(jo,"o,a",void 0,"o",1,Wo);var lr=(t,e,o=1)=>{!t&&(t=e);let r=sr(e);return r>=X?Et(t,e,o/r):t!==e?S(t,e):t};var[Ot,fr,wf,kf]=xt("-");var[Tt,pr,vf,Df]=$(Bo,Zo);var ar=Math.cos,mr=Math.sin,ur=M(1),Zt=ur.add(2,(t,e,o=Pt)=>Bt(t||e,D(e[1]),e[0],o)),Uf=ur.add(3,(t,e,o=go)=>{let r=e[0],n=e[1],i=e[2],s=ar(n);return ir(t||e,r*s*ar(i)+o[0],r*s*mr(i)+o[1],r*mr(n)+o[2])});var hi=t=>_(t,"copy")?t.copy():S([],t),Yt=t=>t.map(hi);var dr=([t,e])=>`t=${t}-${e};s+=t*t;`,hr="let t,s=0;",qe=t=>Z.add(t,j(t,dr,"a,b",void 0,"s","",hr)),Z=M();Z.default(tt(dr,"a,b",void 0,"s",hr));var xi=qe(2),gi=qe(3),_i=qe(4);var Ge=(t,e)=>Math.sqrt(Z(t,e));var[Kf,xr,tp,ep]=xt("*");var Ue=t=>j(t,Vt,`o,a,${Yo}`,"o,a","","+","return ",";",!0),ip=Ue(2),Wt=Ue(3),bi=Ue(4);var[fp,pp,ap,mp]=$(Vo,"a,n","a","a",0,"");var gr=t=>new Array(t).fill(0);var _r=t=>_(t,"empty")?t.empty():gr(t.length);function V(t,e){return!e&&(e={}),(...o)=>{let r=JSON.stringify(o);return r!==void 0?r in e?e[r]:e[r]=t.apply(null,o):t.apply(null,o)}}var[yp,Qt,Ap,Sp]=$(qo("*","+"),Ho);var Jt=(t,e,o,r,n,i)=>{let s=1-i,c=s*s,l=i*i;return rr(t,e,o,r,n,c*s,3*c*i,3*l*s,l*i)};var Kt=(t,e,o,r,n)=>{let i=1-n;return or(t,e,o,r,i*i,2*i*n,n*n)};var br=(t,e,o,r)=>Bt(t,o,r,e),yr=(t,e,o,r)=>er(t,o,r,e);var je=(t,e)=>(o,r,n)=>{o?o!==r&&S(o,r):o=r;let i=Math.sin(n),s=Math.cos(n),c=r[t],l=r[e];return o[t]=c*s-l*i,o[e]=c*i+l*s,o},Rp=je(1,2),Cp=je(2,0),Ar=je(0,1);var Sr=t=>Object.assign({},t.attribs);var Nt=class{constructor(e=[],o){this.points=e,this.attribs=o}*[Symbol.iterator](){yield*this.points}};var Er=(t,e,o,r,n=[])=>Ht(null,Ar(null,xr(n,D(r),e),o),t);var E=20;var Ve=(t,e,o)=>{let r=Ot([],o,e),n=gt(r);return n>1e-6?Xt(Ot([],t,e),r)/n:void 0};var Be=(t,e,o,r,n=!1,i=0)=>{let s=Ve(t,e,o);if(s!==void 0&&(!n||s>=i&&s<=1-i))return r=r||_r(t),s<=0?S(r,e):s>=1?S(r,o):Tt(r,e,o,s)};var Or=(t,e,o=!1,r=[])=>{if(!e.length)return;let n=[],i=e.length-1,s=Infinity,c,l;for(o?(c=i,l=0):(c=0,l=1);l<=i;c=l,l++)if(Be(t,e[c],e[l],n)){let f=Z(t,n);f<s&&(s=f,S(r,n))}return s<Infinity?r:void 0};var C=class{constructor(e,o=!1){o?(this.points=e.slice(),this.points.push(e[0])):this.points=e,this.buildIndex()}totalLength(){let e=this.index;return e?e[e.length-1]:0}pointAt(e){let o=this.points,r=o.length-1;if(r<0)return;if(r===0||e<=0)return o[0];if(e>=1)return o[r];let n=this.index,i=e*n[r];for(let s=1;s<=r;s++)if(n[s]>=i)return Tt([],o[s-1],o[s],(i-n[s-1])/(n[s]-n[s-1]))}closestPoint(e){return Or(e,this.points)}closestT(e){let{index:o,points:r}=this,n=[],i=[],s=Infinity,c=-1;for(let l=0,f=o.length-1;l<f;l++)if(Be(e,r[l],r[l+1],n)){let p=Z(e,n);p<s&&(s=p,c=l,S(i,n))}return c>=0?At(Ve(e,r[c],r[c+1])||0,o[c],o[c+1])/this.totalLength():void 0}segmentAt(e){let o=this.indexAt(e);if(o!==void 0)return o=Math.max(1,o),[this.points[o-1],this.points[o]]}tangentAt(e,o=1){let r=this.segmentAt(e);return r?lr(null,Ot([],r[1],r[0]),o):void 0}splitAt(e){if(e<=0||e>=1)return[this.points];let o=this.pointAt(e);if(!o)return;let r=Math.max(1,this.indexAt(e)),n=this.points.slice(0,r),i=this.points.slice(r);return St(n[r-1],o)||n.push(o),St(i[0],o)||i.unshift(o),[n,i]}splitNear(e){let o=this.closestT(e);return o!==void 0?this.splitAt(o):void 0}indexAt(e){let r=this.points.length-1;if(r<0)return;if(r===0||e<=0)return 0;if(e>=1)return r;let n=this.index,i=e*n[r];for(let s=1;s<=r;s++)if(n[s]>=i)return s}sampleUniform(e,o=!1,r=[]){let{index:n,points:i}=this,s=this.totalLength(),c=e/s,l=n.length;for(let f=0,p=1;f<1;f+=c){let m=f*s;for(;m>=n[p]&&p<l;)p++;if(p>=l)break;let a=n[p-1];r.push(Tt([],i[p-1],i[p],(m-a)/(n[p]-a)))}return o&&r.push(S([],i[i.length-1])),r}sampleFixedNum(e,o=!1,r){return this.sampleUniform(this.totalLength()/e,o,r)}buildIndex(){let e=[0],o=this.points,r=o.length;for(let n=0,i=1;i<r;n=i,i++)e[i]=e[n]+Ge(o[n],o[i]);this.index=e}};var He=(t,e,o=!1,r=!1)=>{if(e!==void 0){let n=new C(t,o);return I(e)?o?e.dist?n.sampleUniform(e.dist,e.last):n.sampleFixedNum(e.num||E,e.last):e.dist?n.sampleUniform(e.dist,e.last!==!1):n.sampleFixedNum(e.num||E,e.last!==!1):n.sampleFixedNum(e||E,!o)}return r?Yt(t):t};var Xe=(t,e,o,r,n,i)=>{if(I(i)&&i.dist!==void 0)return new C(Xe(t,e,o,r,n,i.num||E)).sampleUniform(i.dist,i.last!==!1);i=R(i)?{num:i,last:!0}:Object.assign({num:E},i);let s=n-r,c=i.theta?Math.round(s/i.theta):i.num;s/=c,i.last!==!1&&c++;let l=new Array(c);for(let f=0;f<c;f++)l[f]=Er(t,e,o,r+f*s);return l};var te=(t,e)=>new t(Yt(e.points),Sr(e));var Mt=class extends Nt{get type(){return"cubic"}copy(){return te(Mt,this)}toHiccup(){return["path",this.attribs,[["M",this.points[0]],...this.toHiccupPathSegments()]]}toHiccupPathSegments(){let e=this.points;return[["C",e[1],e[2],e[3]]]}};var $t=class extends Nt{get type(){return"poly"}copy(){return te($t,this)}toHiccup(){return["polygon",this.attribs,this.points]}};var Tr=t=>I(Ro(t))?t.pop():void 0;var ee=t=>function e(o,r){if(I(r)&&r.dist!==void 0)return new C(e(o,r.num||E)).sampleUniform(r.dist,r.last!==!1);r=R(r)?{num:r,last:!0}:Object.assign({num:E},r);let n=[];return t(n,o,r.num),r.last&&n.push(S([],o[o.length-1])),n},oe=t=>(e,o=!1,r)=>{let n=R(r)?{num:r}:r,i=e.length-1;return Array.prototype.concat.apply([],e.map((s,c)=>{let l=!o&&c===i;return t(s,Object.assign(Object.assign({},n),{last:l}))}))};var Ze=ee((t,[e,o,r,n],i)=>{let s=1/i;for(let c=0;c<i;c++)t.push(Jt([],e,o,r,n,c*s))}),Aa=oe(Ze);var Ye=ee((t,[e,o,r],n)=>{let i=1/n;for(let s=0;s<n;s++)t.push(Kt([],e,o,r,s*i))}),Ta=oe(Ye);var Nr=(t,e)=>{let o=Tr(e);return new t(e.length===1?e[0]:e,o)};function Mr(...t){return Nr(Mt,t)}var wt=Symbol(),$r=_o;function ne(t,e){let o={},r=e?yi(e):{},n=(...i)=>{let s=t(...i),c=o[s]||re(o,r,s)||o[wt];return c?c(...i):ft(`missing implementation for: "${s.toString()}"`)};return n.add=(i,s)=>(o[i]&&$r.warn(`overwriting '${i.toString()}' impl`),o[i]=s,!0),n.addAll=i=>{let s=!0;for(let c in i)s=n.add(c,i[c])&&s;return s},n.remove=i=>o[i]?(delete o[i],!0):!1,n.callable=(...i)=>{let s=t(...i);return!!(o[s]||re(o,r,s)||o[wt])},n.isa=(i,s)=>{let c=r[i];!c&&(r[i]=c=new Set),c.add(s)},n.impls=()=>{let i=new Set(Object.keys(o));for(let s in r)re(o,r,s)&&i.add(s);return o[wt]&&i.add(wt),i},n.rels=()=>r,n.parents=i=>r[i],n.ancestors=i=>new Set(wr([],r,i)),n.dependencies=function*(){for(let i in r)for(let s of r[i])yield[i,s];for(let i in o)!r[i]&&(yield[i,void 0])},n}var re=(t,e,o)=>{let r=e[o];if(!!r)for(let n of r){let i=t[n]||re(t,e,n);if(i)return i}},wr=(t,e,o)=>{let r=e[o];if(r)for(let n of r)t.push(n),wr(t,e,n);return t},yi=t=>{let e={};for(let o in t){let r=t[o];e[o]=r instanceof Set?r:new Set(r)}return e};var ie=t=>t.type;var P=ne(ie);P.addAll({aabb:({pos:t,size:e})=>{let[o,r,n]=t,[i,s,c]=nr([],t,e);return[[o,r,n],[o,r,c],[i,r,c],[i,r,n],[o,s,n],[o,s,c],[i,s,c],[i,s,n]]},arc:(t,e)=>Xe(t.pos,t.r,t.axis,t.start,t.end,e),circle:(t,e=E)=>{let o=t.pos,r=t.r,[n,i]=kr(e,r),s=x/n;i&&n++;let c=new Array(n);for(let l=0;l<n;l++)c[l]=Zt(null,[r,l*s],o);return c},cubic:(t,e)=>Ze(t.points,e),ellipse:(t,e=E)=>{let o=[],r=t.pos,n=t.r,[i,s]=kr(e,Math.max(t.r[0],t.r[1])),c=x/i;s&&i++;for(let l=0;l<i;l++)o[l]=Qt([],D(l*c),n,r);return o},group:({children:t})=>t.reduce((e,o)=>e.concat(P(o)),[]),path:(t,e)=>{let o=R(e)?{num:e}:e,r=[];for(let n=t.segments,i=n.length-1,s=0;s<=i;s++){let c=n[s];c.geo&&(r=r.concat(P(c.geo,Object.assign(Object.assign({},o),{last:s===i&&!t.closed}))))}return r},points:t=>t.points,poly:(t,e)=>He(t.points,e,!0),polyline:(t,e)=>He(t.points,e),quadratic:(t,e)=>Ye(t.points,e),rect:(t,e)=>{let o=t.pos,r=Ht([],o,t.size),n=[cr([],o),[r[0],o[1]],r,[o[0],r[1]]];return e!=null?P(new $t(n),e):n}});P.isa("line","polyline");P.isa("points3","points");P.isa("quad","poly");P.isa("tri","poly");var kr=(t,e)=>R(t)?[t,!1]:[t.theta?Math.floor(x/t.theta):t.dist?Math.floor(x/(t.dist/e)):t.num||E,t.last===!0];var se=V((t,e)=>t.repeat(e));var We=V((t,e,o="")=>{let r=se("0",e);return n=>(n=(n>>>0).toString(t),o+(n.length<e?r.substr(n.length)+n:n))}),om=We(2,8),rm=We(2,16),nm=We(2,32);var ce=Lo;var kt=V((t,e=" ")=>{let o=se(String(e),t);return(r,n)=>r==null?o:(r=r.toString(),n=n!==void 0?n:r.length,n<t?o.substr(n)+r:r)}),lm=kt(2,"0"),fm=kt(3,"0"),pm=kt(4,"0");var Cr=V((t,e=!1)=>e?o=>Rr(o)||o.toFixed(t):o=>o.toFixed(t)),dm=V((t,e=3)=>{let o=t-e-1,r=Math.pow(10,o),n=-Math.pow(10,o-1),i=Math.pow(10,-(e-1)),s=kt(t);return c=>{let l=Math.abs(c);return s(Rr(c)||(c===0?"0":l<i||l>=r?Ai(c,t):c.toFixed(e-(c<n?1:0))))}}),Ai=(t,e)=>t.toExponential(Math.max(e-4-(Math.log(Math.abs(t))/Math.LN10>=10?2:1)-(t<0?1:0),0)),Rr=t=>isNaN(t)?"NaN":t===Infinity?"+\u221E":t===-Infinity?"-\u221E":void 0;var Ir=(t=0)=>e=>(e*100).toFixed(t)+"%";var Si={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},vr=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/,gm=new RegExp(`[${Object.keys(Si).join("")}]`,"g");var Dr={button:1,option:1,script:1,style:1,text:1,textarea:1,title:1},Qe=t=>t.split(" ").reduce((e,o)=>(e[o]=!0,e),{}),Lr=Qe("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view"),_m=Qe("area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml"),bm=Qe("animate circle ellipse line path polygon polyline rect");var Pr=(t,e)=>{if(e=at(e),e==null)return t;if(k(e))return t+" "+e;let o=new Set(t.split(" "));for(let r in e)at(e[r])?o.add(r):o.delete(r);return[...o].join(" ")},Fr=(t,e,o)=>{e&&(t.id=e);let r=at(t.class);return o?(o=o.replace(/\./g," "),t.class=r?Pr(o,r):o):r&&(t.class=k(r)?r:Pr("",r)),t};var zr=t=>{let e="",o;for(let r in t)o=at(t[r]),ho(o)&&(o=o(t)),o!=null&&(e+=`${r}:${o};`);return e};var qr=(t,e)=>{if(t==null||!e||!e.length)return t;let o=Object.assign({},t);for(let r of e){let n=o[r];_(n,"deref")&&(o[r]=n.deref())}return o};var Gr=t=>Object.keys(t).reduce((e,o)=>(e.push(`${o}: ${t[o]}`),e),[]).join(" ");var Rm=Object.freeze([0,0,0,1]),Cm=Object.freeze([1,1,1,1]),Im=Object.freeze([1,0,0,1]),vm=Object.freeze([0,1,0,1]),Dm=Object.freeze([0,0,1,1]),Lm=Object.freeze([0,1,1,1]),Pm=Object.freeze([1,0,1,1]),Fm=Object.freeze([1,1,0,1]);var Ur=[3.1338561,-.9787684,.0719453,-1.6168667,1.9161415,-.2289914,-.4906146,.033454,1.4052427];var jr=[3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252];var Vr=[.96422,1,.82521],Br=[.95047,1,1.08883];var ot=Cr(3),Je=Ir(3);var Hr=1/255,zm=1/256;var Ke={};var Xr=(t,e,o,r)=>{let n=Ke[o];zt(!!n,`no conversions available for ${o}`);let i=n[r];return i?i(t,e):Ke.rgb[r]?n.rgb(t,Ke.rgb[r]([],e)):ft(`can't convert: ${r} -> ${o}`)};var O=(t,e=1)=>t!=null?g(t):e;var le=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055;var Zr=(t,e,o=1)=>w(t||e,Gt(e[0]),g(e[1]),g(e[2]),O(e[3],o));var Yr=(t,e)=>{t=Zr(t||e,e);let o=t[1],r=t[2],n=(2-o)*r/2;return t[2]=n,t[1]=n&&n<1?o*r/(n<.5?n*2:2-n*2):o,t};var _t=(t,e)=>w(t||e,le(e[0]),le(e[1]),le(e[2]),O(e[3])),ou=1/2.2;var Wr=(t,e,o,r=!1)=>{let n=Wt(e,o,0,0,3),i=Wt(e,o,1,0,3),s=Wt(e,o,2,0,3),c=O(o[3]);return r?w(t||o,g(n),g(i),g(s),c):w(t||o,n,i,s,c)};var to=t=>{let e=t**3;return e>.008856?e:(t-16/116)/7.787},eo=(t,e,o=Vr)=>{let r=(e[0]+.16)/1.16;return w(t||e,to(e[1]/5+r)*o[0],to(r)*o[1],to(r-e[2]/2)*o[2],O(e[3]))},Qr=(t,e)=>eo(t,e,Br);var Jr=(t,e)=>{let{1:o,2:r}=e;r*=x;let n=O(e[3]);return o>0?w(t||e,e[0],Math.cos(r)*o,Math.sin(r)*o,n):w(t||e,e[0],0,0,n)};var oo=(t,e,o=Ur)=>Wr(t,o,e),Kr=(t,e)=>oo(t,e,jr);var ro=(t,e)=>oo(null,eo(t,e)),tn=(t,e)=>Kr(null,Qr(t,e));var fe=t=>{let e=ot(Gt(t[0])*360),o=Je(g(t[1])),r=Je(g(t[2])),n=O(t[3]);return n<1?`hsla(${e},${o},${r},${ot(n)})`:`hsl(${e},${o},${r})`};var en=t=>fe(Yr([],t));var pe=t=>{let e=t>>>24;return e<255?`rgba(${t>>16&255},${t>>8&255},${t&255},${ot(e*Hr)})`:`#${ce(t&16777215)}`};var on=tr;var Y=t=>{let e=g(t[0])*255+.5|0,o=g(t[1])*255+.5|0,r=g(t[2])*255+.5|0,n=O(t[3]);return n<1?`rgba(${e},${o},${r},${ot(n)})`:`#${ce(e<<16|o<<8|r)}`};var rn=t=>Y(_t([],t));var nn={abgr32:t=>pe(on(t[0])),argb32:t=>pe(t[0]),hsl:fe,hsv:en,lab50:t=>Y(_t(null,ro([],t))),lab65:t=>Y(_t(null,tn([],t))),lch:t=>Y(_t(null,ro(null,Jr([],t)))),rgb:rn,srgb:Y},sn=t=>{let e;return k(t)?t:R(t)?pe(t):t.mode?(e=nn[t.mode])?e(t):nn.rgb(Xr([],t,"rgb",t.mode)):Y(t)};var cn="http://www.w3.org/2000/svg";var bt=ne(ie);bt.addAll({arc:(t,e)=>t.pointAtTheta(At(e,t.start,t.end)),circle:(t,e)=>Zt(null,[t.r,x*e],t.pos),cubic:({points:t},e)=>Jt([],t[0],t[1],t[2],t[3],e),ellipse:(t,e)=>Qt([],D(x*e),t.r,t.pos),line:({points:t},e)=>pr([],t[0],t[1],e),poly:(t,e)=>new C(t.points,!0).pointAt(e),polyline:(t,e)=>new C(t.points).pointAt(e),quadratic:({points:t},e)=>Kt([],t[0],t[1],t[2],e),ray:(t,e)=>br([],t.pos,t.dir,e),ray3:(t,e)=>yr([],t.pos,t.dir,e),rect:(t,e)=>new C(P(t),!0).pointAt(e)});bt.isa("quad","poly");bt.isa("tri","poly");var ae,me,Ei=[],Oi=[],Ti=t=>ae&&ae.length>=t?ae:ae=new Int32Array(t),Ni=t=>me&&me.length>=t?me:me=new Int32Array(t);var ln=(t,e,o,r,n)=>{let i=e.length,s=t.linear;if(t.distance=i,n!=="only-distance"){for(let c=0,l=0;c<i;c++,l+=3)s[l]=r,s[l+1]=c,s[l+2]=e[c];if(n==="full"){let c=t[o];for(let l=0;l<i;l++)c[l]=e[l]}}return t},ue=(t,e,o="full",r=L)=>{let n={distance:0,adds:{},dels:{},const:{},linear:[]};if(t===e||t==null&&e==null)return n;if(t==null||t.length===0)return ln(n,e,"adds",1,o);if(e==null||e.length===0)return ln(n,t,"dels",-1,o);let i=t.length>=e.length,s,c,l,f;i?(s=e,c=t):(s=t,c=e),l=s.length,f=c.length;let p=l+1,m=f-l,a=m+p,u=l+f+3,h=Ni(u).fill(-1,0,u),d=Ti(u).fill(-1,0,u),T=Ei,b=Oi,F=(yt,ao,mo)=>{let Se,B;ao>mo?(Se=h[yt-1],B=ao):(Se=h[yt+1],B=mo);let vt=B-(yt-p);for(;vt<l&&B<f&&r(s[vt],c[B]);)vt++,B++;h[yt]=b.length/3,b.push(vt,B,Se),d[yt]=B},A=-1,N;do{for(A++,N=-A+p;N<a;N++)F(N,d[N-1]+1,d[N+1]);for(N=a+A;N>a;N--)F(N,d[N-1]+1,d[N+1]);F(a,d[a-1]+1,d[a+1])}while(d[a]!==f);if(n.distance=m+2*A,o!=="only-distance"){for(A=h[a]*3;A>=0;)T.push(A),A=b[A+2]*3;o==="full"?Mi(T,b,n,s,c,i):$i(T,b,n,s,c,i,o==="only-distance-linear")}return T.length=0,b.length=0,n},Mi=(t,e,o,r,n,i)=>{let s=o.linear,c=o.const,l=t.length,f=0,p=0,m,a,u,h;for(i?(m=o.dels,a=o.adds,u=-1,h=1):(m=o.adds,a=o.dels,u=1,h=-1);--l>=0;){let d=t[l],T=e[d],b=e[d+1],F=b-T;for(;f<T||p<b;){let A=p-f;F>A?(s.push(u,p,m[p]=n[p]),p++):F<A?(s.push(h,f,a[f]=r[f]),f++):(s.push(0,f,c[f]=r[f]),f++,p++)}}},$i=(t,e,o,r,n,i,s)=>{let c=o.linear,l=i?-1:1,f=i?1:-1,p=t.length,m=0,a=0;for(;--p>=0;){let u=t[p],h=e[u],d=e[u+1],T=d-h;for(;m<h||a<d;){let b=a-m;T>b?(c.push(l,a,n[a]),a++):T<b?(c.push(f,m,r[m]),m++):(s&&c.push(0,m,r[m]),m++,a++)}}};var fn=(t,e,o="full",r=L)=>t===e?{distance:0}:o==="only-distance"?wi(t,e,r):ki(t,e,r),wi=(t,e,o)=>{t||(t={}),e||(e={});let r=0;for(let n in t){let i=e[n];(i===void 0||!o(t[n],i))&&r++}for(let n in e)!(n in t)&&r++;return{distance:r}},ki=(t,e,o)=>{t||(t={}),e||(e={});let r=0,n=[],i=[],s=[];for(let c in t){let l=e[c];l===void 0?(i.push(c),r++):o(t[c],l)||(s.push(c,l),r++)}for(let c in e)c in t||(n.push(c),r++);return{distance:r,adds:n,dels:i,edits:s}};var de=Array.isArray,Ri=Math.max,pn=Object.getPrototypeOf({}),he="function",xe="string",an=(()=>{let t=new Array(2048);for(let e=2,o=t.length;e<o;e++)t[e]=e-2;return t})(),Ci=t=>{if(t<=an.length)return an.slice(0,t);let e=new Array(t);for(;--t>=2;)e[t]=t-2;return e},no=(t,e,o,r,n,i=0)=>{let s=n[1];if(s.__skip)return;if(s.__diff===!1){rt(r),e.replaceChild(t,o,i,n);return}let c=r[1];if(c&&c.__skip){e.replaceChild(t,o,i,n,!1);return}let l=s.__impl;if(l&&l!==e)return l.diffTree(t,l,o,r,n,i);let f=ue(r,n,"only-distance-linear",nt);if(f.distance===0)return;let p=f.linear,m=e.getChild(o,i),a,u,h,d;if(p[0]!==0||r[1].key!==s.key){rt(r),e.replaceChild(t,o,i,n);return}if((d=r.__release)&&d!==n.__release&&rt(r),p[3]!==0&&(Di(e,m,r[1],n[1]),f.distance===2))return;let T=p.length,b=r.length-1,F=Li(p),A=Ci(b+1);for(a=2,u=6;u<T;a++,u+=3)h=p[u],!!h&&(h===-1?Ii(t,e,m,r,n,p,u,F,A,b):vi(t,e,m,p,u,F,A,b));(d=n.__init)&&d!=r.__init&&d.apply(n,[m,...n.__args])},Ii=(t,e,o,r,n,i,s,c,l,f)=>{let p=i[s+2];if(de(p)){let m=p[1].key;if(m!==void 0&&c[m][2]!==void 0){let a=c[m];m=a[0],no(t,e,o,r[m],n[a[2]],l[m])}else{let a=i[s+1];rt(p),e.removeChild(o,l[a]),Pi(l,f,a)}}else typeof p===xe&&e.setContent(o,"")},vi=(t,e,o,r,n,i,s,c)=>{let l=r[n+2];if(typeof l===xe)e.setContent(o,l);else if(de(l)){let f=l[1].key;if(f===void 0||i[f][0]===void 0){let p=r[n+1];e.createTree(t,o,l,s[p]),Fi(s,c,p)}}},Pi=(t,e,o)=>{for(;e>o;e--)t[e]=Ri(t[e]-1,0)},Fi=(t,e,o)=>{for(;e>=o;e--)t[e]++},Di=(t,e,o,r)=>{let n=fn(o,r,"full",L);t.removeAttribs(e,n.dels,o);let i=J,s,c,l;for(l=n.edits,s=l.length;(s-=2)>=0;)c=l[s],c[0]==="o"&&c[1]==="n"&&t.removeAttribs(e,[c],o),c!=="value"?t.setAttrib(e,c,l[s+1],r):i=l[s+1];for(l=n.adds,s=l.length;--s>=0;)c=l[s],c!=="value"?t.setAttrib(e,c,r[c],r):i=r[c];i!==J&&t.setAttrib(e,"value",i,r)},rt=t=>{if(de(t)){let e;if((e=t[1])&&e.__release===!1)return;for(t.__release&&(t.__release.apply(t.__this,t.__args),delete t.__release),e=t.length;--e>=2;)rt(t[e])}},Li=t=>{let e,o,r,n={};for(let i=t.length;(i-=3)>=0;)o=t[i+2],de(o)&&(e=o[1].key)!==void 0&&(r=n[e],!r&&(n[e]=r=[,,]),r[t[i]+1]=t[i+1]);return n},nt=(t,e)=>{let o;if(t===e)return!0;if(t!=null){if(typeof t.equiv===he)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===he)return e.equiv(t)}else return t==e;return typeof t===xe||typeof e===xe?!1:(o=Object.getPrototypeOf(t),(o==null||o===pn)&&(o=Object.getPrototypeOf(e),o==null||o===pn)?!(t.__diff===!1||e.__diff===!1)&&ke(t,e,nt):typeof t!==he&&t.length!==void 0&&typeof e!==he&&e.length!==void 0?Me(t,e,nt):t instanceof Set&&e instanceof Set?$e(t,e,nt):t instanceof Map&&e instanceof Map?we(t,e,nt):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)};var ge=z,mn=pt,un=k,dn=(t,e)=>e.__init&&e.__init.apply(e.__this,[t,...e.__args]),Rt=(t,e,o,r,n,i=!0)=>{if(ge(r)){let s=r[0];if(typeof s=="function")return Rt(t,e,o,s.apply(null,[t.ctx,...r.slice(1)]),n);let c=r[1];if(c.__impl)return c.__impl.createTree(t,o,r,n,i);let l=e.createElement(o,s,c,n);if(r.length>2){let f=r.length;for(let p=2;p<f;p++)Rt(t,e,l,r[p],void 0,i)}return i&&dn(l,r),l}if(mn(r)){let s=[];for(let c of r)s.push(Rt(t,e,o,c,n,i));return s}return r==null?o:e.createTextElement(o,r)},Ct=(t,e,o,r,n=0)=>{if(ge(r)){let i=e.getChild(o,n);typeof r[0]=="function"&&Ct(t,e,o,r[0].apply(null,[t.ctx,...r.slice(1)]),n);let s=r[1];if(s.__impl)return s.__impl.hydrateTree(t,o,r,n);dn(i,r);for(let c in s)c[0]==="o"&&c[1]==="n"&&e.setAttrib(i,c,s[c]);for(let c=r.length,l=2;l<c;l++)Ct(t,e,i,r[l],l-2)}else if(mn(r))for(let i of r)Ct(t,e,o,i,n),n++},xn=(t,e,o,r)=>{let n=Lr[e]?document.createElementNS(cn,e):document.createElement(e);return o&&zi(n,o),hn(t,n,r)},gn=(t,e,o)=>hn(t,document.createTextNode(e),o),hn=(t,e,o)=>t?o===void 0?t.appendChild(e):t.insertBefore(e,t.children[o]):e,_n=(t,e)=>t.children[e],bn=(t,e,o,r,n,i=!0)=>(e.removeChild(o,r),e.createTree(t,o,n,r,i));var yn=(t,e)=>t.textContent=e,zi=(t,e)=>{for(let o in e)io(t,o,e[o],e);return t},io=(t,e,o,r)=>{if(e.startsWith("__"))return;let n=e[0]==="o"&&e[1]==="n";if(!n&&typeof o=="function"&&(o=o(r)),o!==void 0&&o!==!1)switch(e){case"style":Gi(t,o);break;case"value":qi(t,o);break;case"prefix":t.setAttribute(e,un(o)?o:Gr(o));break;case"accesskey":t.accessKey=o;break;case"contenteditable":t.contentEditable=o;break;case"tabindex":t.tabIndex=o;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":t[e]=o;break;default:n?Ui(t,e.substr(2),o):t.setAttribute(e,o===!0?"":o)}else t[e]!=null?t[e]=null:t.removeAttribute(e);return t},qi=(t,e)=>{let o;switch(t.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if((o=t.value)!==void 0&&typeof e=="string"){let r=e.length-(o.length-(t.selectionStart||0));t.value=e,t.selectionStart=t.selectionEnd=r;break}default:t.value=e}},An=(t,e,o)=>{for(let r=e.length;--r>=0;){let n=e[r];n[0]==="o"&&n[1]==="n"?ji(t,n.substr(2),o[n]):t.hasAttribute(n)?t.removeAttribute(n):t[n]=null}},Gi=(t,e)=>(t.setAttribute("style",zr(e)),t),Ui=(t,e,o)=>un(o)?t.setAttribute("on"+e,o):ge(o)?t.addEventListener(e,...o):t.addEventListener(e,o),ji=(t,e,o)=>ge(o)?t.removeEventListener(e,...o):t.removeEventListener(e,o);var Sn=(t,e)=>{let o=t.children[e];o!==void 0&&t.removeChild(o)};var _e=z,Vi=pt,Bi=I,Hi=(t,e)=>{let o=t[0],r=Bi(t[1]),n,i,s;return(typeof o!="string"||!(n=vr.exec(o)))&&Dt(`${o} is not a valid tag name`),i=n[1],o===i&&r&&(!e||t[1].key)?t:(s=Fr(r?Object.assign({},t[1]):{},n[2],n[3]),s.__skip&&t.length<3?[i,s]:[i,s,...t.slice(r?2:1)])},En=(t,e)=>W(e,t,t.ctx,[0],t.keys!==!1,t.span!==!1),W=(t,e,o,r,n,i)=>{if(t!=null){if(_e(t)){if(t.length===0)return;let s,c=t[1],l;if(c&&(l=c.__impl)&&(l=l.normalizeTree))return l(e,t);let f=t[0];if(typeof f=="function")return W(f.apply(null,[o,...t.slice(1)]),e,o,r,n,i);if(typeof f.render=="function"){let p=[o,...t.slice(1)];return s=W(f.render.apply(f,p),e,o,r,n,i),_e(s)&&(s.__this=f,s.__init=f.init,s.__release=f.release,s.__args=p),s}return s=Hi(t,n),c=s[1],c.__normalize===!1?s:(n&&c.key===void 0&&(c.key=r.join("-")),s.length>2?Xi(s,c,e,o,r,n,i):s)}return typeof t=="function"?W(t(o),e,o,r,n,i):typeof t.toHiccup=="function"?W(t.toHiccup(e.ctx),e,o,r,n,i):typeof t.deref=="function"?W(t.deref(),e,o,r,n,i):i?["span",n?{key:r.join("-")}:{},t.toString()]:t.toString()}},Xi=(t,e,o,r,n,i,s)=>{let c=t[0],l=[c,e];s=s&&!Dr[c];for(let f=2,p=2,m=0,a=t.length;f<a;f++){let u=t[f];if(u!=null){let h=_e(u);if(h&&_e(u[0])||!h&&Vi(u))for(let d of u)d=W(d,o,r,n.concat(m),i,s),d!==void 0&&(l[p++]=d),m++;else u=W(u,o,r,n.concat(m),i,s),u!==void 0&&(l[p++]=u),m++}}return l};var On={createTree(t,e,o,r,n){return Rt(t,this,e,o,r,n)},hydrateTree(t,e,o,r){return Ct(t,this,e,o,r)},diffTree(t,e,o,r,n){no(t,this,e,o,r,n)},normalizeTree:En,getElementById(t){return document.getElementById(t)},getChild:_n,createElement:xn,createTextElement:gn,replaceChild(t,e,o,r,n){bn(t,this,e,o,r,n)},removeChild:Sn,setContent:yn,removeAttribs:An,setAttrib:io};var Tn=(t,e)=>k(t)?e.getElementById(t):t;var Nn=(t,e={},o=On)=>{let r=Object.assign({root:"app"},e),n=[],i=!0,s=Tn(r.root,o),c=()=>{if(i){r.ctx=qr(e.ctx,r.autoDerefKeys);let l=o.normalizeTree(r,t);l!=null&&(r.hydrate?(o.hydrateTree(r,s,l),r.hydrate=!1):o.diffTree(r,s,n,l),n=l),i&&requestAnimationFrame(c)}};return requestAnimationFrame(c),()=>i=!1};var it=(t,e)=>{let o;(o=e.fill)&&o!=="none"&&t.fill(),(o=e.stroke)&&o!=="none"&&t.stroke(),(o=e.clip)&&t.clip(o===!0?"nonzero":o)};var so=(t,e,o,r,n=0,i=x,s=!1)=>{t.beginPath(),t.arc(o[0],o[1],r,n,i,s),it(t,e)},Mn=(t,e,o,r,n=0,i=0,s=x,c=!1)=>{t.beginPath(),t.ellipse(o[0],o[1],r[0],r[1],n,i,s,c),it(t,e)};var co=sn,$n=(t,e)=>k(e)?e[0]==="$"?t.grads[e.substr(1)]:e:co(e),wn=(t,{from:e,to:o},r)=>{let n=t.createLinearGradient(e[0],e[1],o[0],o[1]);for(let i of r)n.addColorStop(i[0],co(i[1]));return n},kn=(t,{from:e,to:o,r1:r,r2:n},i)=>{let s=t.createRadialGradient(e[0],e[1],r,o[0],o[1],n);for(let c of i)s.addColorStop(c[0],co(c[1]));return s};var Rn=(t,e,{width:o,height:r},n,i,s,c)=>{if(_(n,"toImageData")&&(n=n.toImageData()),n instanceof ImageData){t.putImageData(n,i[0],i[1]);return}o=o||n.width,r=r||n.height,s?t.drawImage(n,s[0],s[1],c?c[0]:o,c?c[1]:r,i[0],i[1],o,r):t.drawImage(n,i[0],i[1],o,r)};var be=(t,e,o,r)=>{e.stroke!=="none"&&(t.beginPath(),t.moveTo(o[0],o[1]),t.lineTo(r[0],r[1]),t.stroke())},Cn=(t,e,o)=>{if(e.stroke!=="none"){t.beginPath();for(let{0:r,1:n}of o)t.moveTo(r[0],r[1]),t.lineTo(n[0],n[1]);t.stroke()}};var vn=(t,e,o,r)=>{let n;(n=e.fill)&&n!=="none"&&In(t,o,r,"fill","fillRect"),(n=e.stroke)&&n!=="none"&&In(t,o,r,"stroke","strokeRect")},In=(t,e,o,r,n)=>{let{start:i,cstride:s,estride:c,size:l}=Object.assign({start:0,cstride:1,estride:2,size:1},e),f=e&&e.num!=null?e.num:(o.length-i)/c|0;if(e.shape==="circle")for(let p=i;--f>=0;p+=c)t.beginPath(),t.arc(o[p],o[p+s],l,0,x),t[r]();else{let p=l/2;for(let m=i;--f>=0;m+=c)t[n](o[m]-p,o[m+s]-p,l,l)}};var ye=(t,e,o)=>{t.beginPath();let r=[0,0];for(let n=0,i=o.length;n<i;n++){let s=o[n],c=s[1],l,f;switch(s[0]){case"m":c=[r[0]+c[0],r[1]+c[1]];case"M":t.moveTo(c[0],c[1]),r=c;break;case"l":c=[r[0]+c[0],r[1]+c[1]];case"L":t.lineTo(c[0],c[1]),r=c;break;case"h":c=[r[0]+c,r[1]],t.lineTo(c[0],c[1]),r=c;break;case"H":c=[c,r[1]],t.lineTo(c[0],c[1]),r=c;break;case"v":c=[r[0],r[1]+c],t.lineTo(c[0],c[1]),r=c;break;case"V":c=[r[0],c],t.lineTo(c[0],c[1]),r=c;break;case"c":l=s[2],f=s[3],f=[r[0]+f[0],r[1]+f[1]],t.bezierCurveTo(r[0]+c[0],r[1]+c[1],r[0]+l[0],r[1]+l[1],f[0],f[1]),r=f;break;case"C":l=s[2],f=s[3],t.bezierCurveTo(c[0],c[1],l[0],l[1],f[0],f[1]),r=f;break;case"q":l=s[2],l=[r[0]+l[0],r[1]+l[1]],t.quadraticCurveTo(r[0]+c[0],r[1]+c[1],l[0],l[1]),r=l;break;case"Q":l=s[2],t.quadraticCurveTo(c[0],c[1],l[0],l[1]),r=l;break;case"a":l=s[2],l=[r[0]+l[0],r[1]+l[1]],t.arcTo(r[0]+c[0],r[1]+c[1],l[0],l[1],s[3]),r=l;break;case"A":l=s[2],t.arcTo(c[0],c[1],l[0],l[1],s[3]),r=l;break;case"z":case"Z":t.closePath()}}it(t,e)};var Ln=(t,e,o,r)=>{let n;(n=e.fill)&&n!=="none"&&Dn(t,o,r,"fill","fillRect"),(n=e.stroke)&&n!=="none"&&Dn(t,o,r,"stroke","strokeRect")},Dn=(t,e,o,r,n)=>{let i=e&&e.size||1;if(e.shape==="circle")for(let s of o)t.beginPath(),t.arc(s[0],s[1],i,0,x),t[r]();else{let s=i/2;for(let c of o)t[n](c[0]-s,c[1]-s,i,i)}};var Pn=(t,e,o)=>{o.length<2||(lo(t,o),t.closePath(),it(t,e))},lo=(t,e)=>{let o=e[0];t.beginPath(),t.moveTo(o[0],o[1]);for(let r=1,n=e.length;r<n;r++)o=e[r],t.lineTo(o[0],o[1])};var Fn=(t,e,o)=>{o.length<2||e.stroke=="none"||(lo(t,o),t.stroke())};var zn=(t,e,o,r,n,i=0)=>{let s;if(i>0)return i=Math.min(Math.min(r,n)/2,i),r-=2*i,n-=2*i,ye(t,e,[["M",[o[0]+i,o[1]]],["h",r],["a",[i,0],[i,i],i],["v",n],["a",[0,i],[-i,i],i],["h",-r],["a",[-i,0],[-i,-i],i],["v",-n],["a",[0,-i],[i,-i],i]]);(s=e.fill)&&s!=="none"&&t.fillRect(o[0],o[1],r,n),(s=e.stroke)&&s!=="none"&&t.strokeRect(o[0],o[1],r,n)};var Zi={align:"left",alpha:1,baseline:"alphabetic",compose:"source-over",dash:[],dashOffset:0,direction:"inherit",fill:"#000",filter:"none",font:"10px sans-serif",lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowBlur:0,shadowColor:"rgba(0,0,0,0)",shadowX:0,shadowY:0,smooth:!0,stroke:"#000",weight:1},qn={align:"textAlign",alpha:"globalAlpha",baseline:"textBaseline",clip:"clip",compose:"globalCompositeOperation",dash:"setLineDash",dashOffset:"lineDashOffset",direction:"direction",fill:"fillStyle",filter:"filter",font:"font",lineCap:"lineCap",lineJoin:"lineJoin",miterLimit:"miterLimit",shadowBlur:"shadowBlur",shadowColor:"shadowColor",shadowX:"shadowOffsetX",shadowY:"shadowOffsetY",smooth:"imageSmoothingEnabled",stroke:"strokeStyle",weight:"lineWidth"},Gn=(t,e=!1)=>({attribs:Object.assign({},t.attribs),grads:Object.assign({},t.grads),edits:[],restore:e}),jn=(t,e,o)=>{let r;if(!!o){Yi(t,o)&&(r=Gn(e,!0));for(let n in o){let i=qn[n];if(i){let s=o[n];s!=null&&e.attribs[n]!==s&&(!r&&(r=Gn(e)),r.attribs[n]=s,r.edits.push(n),Un(t,e,n,i,s))}}return r}},Vn=(t,e,o)=>{if(o.restore){t.restore();return}let r=o.edits,n=e.attribs;for(let i=r.length;--i>=0;){let s=r[i],c=n[s];Un(t,e,s,qn[s],c??Zi[s])}},fo=(t,e,o)=>{!t.grads&&(t.grads={}),t.grads[e]=o},Un=(t,e,o,r,n)=>{switch(o){case"fill":case"stroke":case"shadowColor":t[r]=$n(e,n);break;case"dash":t[r].call(t,n);break;case"clip":break;default:t[r]=n}},Yi=(t,e)=>{let o;return(o=e.transform)||e.setTransform||e.translate||e.scale||e.rotate?(t.save(),o?t.transform(o[0],o[1],o[2],o[3],o[4],o[5]):(o=e.setTransform)?t.setTransform(o[0],o[1],o[2],o[3],o[4],o[5]):((o=e.translate)&&t.translate(o[0],o[1]),(o=e.rotate)&&t.rotate(o),(o=e.scale)&&(Lt(o)?t.scale(o[0],o[1]):t.scale(o,o))),!0):!1};var Bn=(t,e,o,r,n)=>{let i;(i=e.fill)&&i!=="none"&&t.fillText(r.toString(),o[0],o[1],n),(i=e.stroke)&&i!=="none"&&t.strokeText(r.toString(),o[0],o[1],n)};var It=(t,e,o={attribs:{},edits:[]})=>{if(!e)return;if(_(e,"toHiccup")){It(t,e.toHiccup(),o);return}if(z(e[0])){for(let i of e)It(t,i,o);return}let r=jn(t,o,e[1]),n=r?r.attribs:o.attribs;if(!n.__skip){switch(e[0]){case"g":case"defs":Wi(t,r,o,e);break;case"linearGradient":fo(o,e[1].id,wn(t,e[1],e[2]));break;case"radialGradient":fo(o,e[1].id,kn(t,e[1],e[2]));break;case"points":Ln(t,n,e[1],e[2]);break;case"packedPoints":vn(t,n,e[1],e[2]);break;case"line":be(t,n,e[2],e[3]);break;case"lines":Cn(t,n,e[2]);break;case"hline":be(t,n,[-1e6,e[2]],[1e6,e[2]]);break;case"vline":be(t,n,[e[2],-1e6],[e[2],1e6]);break;case"polyline":Fn(t,n,e[2]);break;case"polygon":Pn(t,n,e[2]);break;case"path":ye(t,n,e[2]);break;case"rect":zn(t,n,e[2],e[3],e[4],e[5]);break;case"circle":so(t,n,e[2],e[3]);break;case"ellipse":Mn(t,n,e[2],e[3],e[4],e[5],e[6]);break;case"arc":so(t,n,e[2],e[3],e[4],e[5]);break;case"text":Bn(t,n,e[2],e[3],e[4]);break;case"img":Rn(t,n,e[1],e[2],e[3],e[4],e[5]);default:}r&&Vn(t,o,r)}},Wi=(t,e,o,r)=>{let n=r.length,i=r[0]==="g"&&e||o;for(let s=2;s<n;s++)It(t,r[s],i)};var Ae="function",Qi="string",Xn={render(t,e,...o){let r=Object.assign({},e);delete r.__diff,delete r.__normalize;let n=window.devicePixelRatio||1;return n!==1&&(!r.style&&(r.style={}),r.style.width=`${r.width}px`,r.style.height=`${r.height}px`,r.width*=n,r.height*=n),["canvas",r,["g",{__impl:Hn,__diff:e.__diff!==!1,__normalize:e.__normalize!==!1,__release:e.__release===!0,__serialize:!1,__clear:e.__clear,scale:n!==1?n:null},...o]]}},po=(t,e,o)=>{let r=e.getContext("2d");zt(!!r,"canvas ctx unavailable");let n=o[1];if(n){if(n.__skip)return;n.__clear!==!1&&r.clearRect(0,0,e.width,e.height)}It(r,o)},st=(t,e)=>{if(e==null)return e;if(z(e)){let o=e[0];if(typeof o===Ae)return st(t,o.apply(null,[t.ctx,...e.slice(1)]));if(typeof o===Qi){let r=e[1];if(r&&r.__normalize===!1)return e;let n=[e[0],r];for(let i=2,s=e.length;i<s;i++){let c=st(t,e[i]);c!=null&&n.push(c)}return n}}else{if(typeof e===Ae)return st(t,e(t.ctx));if(typeof e.toHiccup===Ae)return st(t,e.toHiccup(t.ctx));if(typeof e.deref===Ae)return st(t,e.deref());if(pt(e)){let o=[];for(let r of e){let n=st(t,r);n!=null&&o.push(n)}return o}}return e},Ji=(t,e,o,r,n)=>{let i=r[1];if(i.__skip)return;if(i.__diff===!1)return rt(o),po(t,e,r);let s=i.__impl;if(s&&s!==Hn)return s.diffTree(t,e,o,r,n);if(ue(o,r,"only-distance",nt).distance>0)return po(t,e,r)},Hn={createTree:po,normalizeTree:st,diffTree:Ji,hydrateTree:y,getElementById:y,createElement:y,createTextElement:y,replaceChild:y,getChild:y,removeAttribs:y,removeChild:y,setAttrib:y,setContent:y};var Zn=25,Ki=200,ts=t=>Mr([0,t*30],[100-Math.abs(t)*10,0],[300,t*6],[600,t*6],{id:t}),es=()=>[...v(ts,ht(-(Zn>>1),(Zn>>1)+1))],os=(t,e)=>{for(let o=t.length;--o>=0;){let r=t[o],n=r.points,i=r.attribs.id,[s,c]=D(e+i*.07),l=Math.cos(e*.25-i*.05);n[0][1]=(1-Math.abs(l))*i*30,n[2][0]=c*100+300,n[2][1]=s*150+i*6,n[3][1]=i*Math.abs(s*12)}},rs=t=>({curve:t[Ie.int()%t.length],pos:0,vel:Ie.minmax(.002,.01)}),ns=t=>{for(let e=t.length;--e>=0;){let o=t[e];o.pos=$o(o.pos+o.vel)}},is=t=>{let e=bt(t.curve,t.pos);return["line",{translate:e},fr(null,bt(t.curve,t.pos-.05),e),Pt]},ss=["defs",{},["linearGradient",{id:"curve",from:[0,0],to:[600,0]},[[0,[1,.796,0]],[1,[.549,0,0]]]],["linearGradient",{id:"part",from:[-30,0],to:[0,0]},[[0,[.05,.34,.41,.8]],[1,[.188,.38,.078,.8]]]]],cs=()=>{let t=es(),e=[...v(uo(rs,t),ht(Ki))],o=0;return()=>{os(t,o+=.02),ns(e);let r=window.innerWidth,n=window.innerHeight,i=r/600;return[Xn,{width:r,height:n,__diff:!1},ss,["g",{translate:[0,n/2],scale:i,stroke:"$curve",compose:"screen"},...t,["g",{stroke:"$part",weight:2},...v(is,e)]]]}};Nn(cs());})();
